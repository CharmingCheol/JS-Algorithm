<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //   function BFS(y, x, board, lengthY, lengthX) {
      //     let flag = true;
      //     let squareLength = 1;
      //     let nextLine = 1;
      //     const originY = y;
      //     const originX = x;

      //     while (flag) {
      //       let temp = 0;
      //       for (let vy = originY; vy <= originY + nextLine; vy++) {
      //         if (vy < lengthY && x + 1 < lengthX && board[vy][x + 1]) {
      //           temp += 1;
      //         } else {
      //           flag = false;
      //           break;
      //         }
      //       }
      //       for (let vx = originX; vx <= originX + nextLine; vx++) {
      //         if (y + 1 < lengthY && vx < lengthX && board[y + 1][vx]) {
      //           temp += 1;
      //         } else {
      //           flag = false;
      //           break;
      //         }
      //       }
      //       if (flag) {
      //         y += 1;
      //         x += 1;
      //         nextLine += 1;
      //         squareLength = Math.max(squareLength, temp / 2);
      //       }
      //     }
      //     return squareLength;
      //   }

      //   function solution(board) {
      //     const lengthY = board.length;
      //     const lengthX = board[0].length;
      //     let result = 0;

      //     for (let y = 0; y < lengthY; y++) {
      //       for (let x = 0; x < lengthX; x++) {
      //         if (board[y][x] === 1) {
      //           let checkX = 1;
      //           let checkY = 1;
      //           for (let vw = x + 1; vw < lengthX; vw++) {
      //             if (board[y][vw]) {
      //               checkX += 1;
      //             } else {
      //               break;
      //             }
      //           }
      //           for (let vy = y + 1; vy < lengthY; vy++) {
      //             if (board[vy][x]) {
      //               checkY += 1;
      //             } else {
      //               break;
      //             }
      //           }
      //           if (result < Math.min(checkX, checkY)) {
      //             result = Math.max(result, BFS(y, x, board, lengthY, lengthX));
      //           }
      //         }
      //       }
      //     }
      //     return result * result;
      //   }
      function solution(board) {
        const lengthY = board.length;
        const lengthX = board[0].length;
        let result = 0;
        if (lengthY < 2 || lengthX < 2) {
          for (let y = 0; y < lengthY; y++) {
            for (let x = 0; x < lengthX; x++) {
              if (board[y][x]) result = 1;
            }
          }
        } else {
          for (let y = 1; y < lengthY; y++) {
            for (let x = 1; x < lengthX; x++) {
              if (board[y][x]) {
                board[y][x] =
                  Math.min(
                    board[y][x - 1],
                    board[y - 1][x],
                    board[y - 1][x - 1]
                  ) + 1;
                result = Math.max(result, board[y][x]);
              }
            }
          }
        }
        return Math.pow(result, 2);
      }
      solution([
        [0, 0, 1, 1],
        [1, 1, 1, 1],
      ]);
      solution([
        [0, 1, 1, 1],
        [1, 1, 1, 1],
        [1, 1, 1, 1],
        [0, 0, 1, 0],
      ]);
    </script>
  </body>
</html>
